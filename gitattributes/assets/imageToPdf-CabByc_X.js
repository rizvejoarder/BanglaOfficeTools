import{E as f}from"./jspdf.es.min-BLbex_kd.js";import"./FileSaver.min-BjtJenfE.js";import"./index-CfsZiiTM.js";import"./pdfjs-CwH_0J_o.js";const L=async(t,r=()=>{})=>{try{if(!t||t.length===0)throw new Error("কোনো ছবি নির্বাচন করা হয়নি।");r(`${t.length}টি ছবি প্রক্রিয়াকরণ শুরু...`);const o=new f;let e=!0;for(let a=0;a<t.length;a++){const p=t[a];r(`ছবি ${a+1}/${t.length} যুক্ত করা হচ্ছে...`);const i=await D(p),s=await E(i),c=210,g=297,u=c/s.width,I=g/s.height,m=Math.min(u,I,1),h=s.width*m,d=s.height*m,$=(c-h)/2,b=(g-d)/2;e||o.addPage(),e=!1,o.addImage(i,"JPEG",$,b,h,d)}r("পিডিএফ ফাইল তৈরি করা হচ্ছে...");const n=o.output("blob"),l=`images-to-pdf-${new Date().toISOString().slice(0,19).replace(/[:.]/g,"-")}.pdf`;r(`সম্পন্ন! ${t.length}টি ছবি দিয়ে পিডিএফ তৈরি হয়েছে।`);const w=URL.createObjectURL(n);return{success:!0,message:`সফলভাবে ${t.length}টি ছবি দিয়ে পিডিএফ তৈরি হয়েছে এবং ডাউনলোড শুরু হয়েছে।`,filename:l,downloadUrl:w,blob:n}}catch(o){throw console.error("Images to PDF conversion error:",o),new Error(`ছবি থেকে পিডিএফ রূপান্তরে সমস্যা হয়েছে: ${o.message}`)}},D=t=>new Promise((r,o)=>{const e=new FileReader;e.onload=n=>r(n.target.result),e.onerror=()=>o(new Error("ছবি পড়তে সমস্যা হয়েছে।")),e.readAsDataURL(t)}),E=t=>new Promise((r,o)=>{const e=new Image;e.onload=()=>{r({width:e.width,height:e.height})},e.onerror=()=>o(new Error("ছবির মাত্রা নির্ধারণে সমস্যা হয়েছে।")),e.src=t});export{L as convertImagesToPdf};
